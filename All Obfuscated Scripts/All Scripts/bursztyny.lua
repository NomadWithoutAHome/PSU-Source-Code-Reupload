--[[
	id: lCxXf0M00-u_IxdbpkhWP
	name: bursztyny
	description: bursztyny c
	time1: 2021-04-29 11:05:51.738969+00
	time2: 2021-04-29 11:05:51.73897+00
	uploader: oIPVCSHqfzmcf7V7uTPAFyHciotjAKFnaTX_CibV
	uploadersession: w_N2TQnJrR_eWwaT0UKn6VRG5ngf1f
	flag: f
--]]

local a=70;local b=false;ESX=nil;local c=false;CreateThread(function()while ESX==nil do TriggerEvent('esx:getSharedObject',function(d)ESX=d end)Wait(300)end end)RegisterNetEvent('freezeplayer')AddEventHandler('freezeplayer',function(e)FreezeEntityPosition(PlayerPedId(),e)end)RegisterNetEvent('tyalezamknijpizde')AddEventHandler('tyalezamknijpizde',function()CreateThread(function()local f=PlayerPedId()local g=GetEntityCoords(f)local h=0;local i=1;local j=PlayerPedId()c=true;ClearPedTasks(f)TriggerEvent('freezeplayer',true)TaskStartScenarioInPlace(PlayerPedId(),"world_human_gardener_plant",0,true)while h<=1000 do ESX.Game.Utils.DrawText3D(g,"Szukanie ~o~bursztynów: ~w~"..tonumber(h*0.1)..'%',0.4)Wait(0)h=h+2 end;local k=math.random(1,100)if a>k then TriggerServerEvent('bursztynki:wykopaliska',i)TriggerEvent('esx:showNotification','~g~Znalazles bursztyn')else TriggerEvent('esx:showNotification','~r~Nie znalazles żadnych bursztynów')end;ClearPedTasks(f)TriggerEvent('freezeplayer',false)c=false end)end)CreateThread(function()while true do Wait(5)local l=true;local g=GetEntityCoords(PlayerPedId())if#(g-vec3(-1580.27,-1209.21,1.44))<30 and c==false then l=false;DrawText3DBursztyny(-1580.27,-1209.21,1.44,'~g~Zbieranie bursztynow',0.3)elseif#(g-vec3(-1684.96,-1068.65,13.1))<30 and c==false then l=false;DrawText3DBursztyny(-1684.96,-1068.65,13.1,'~g~Sprzedawanie bursztynów',0.3)elseif#(g-vec3(-1802.27,-1205.74,14.30))<30 and c==false then l=false;DrawText3DBursztyny(-1802.27,-1205.74,14.30,'~g~Szlifowanie bursztynów',0.3)elseif#(g-vec3(-1526.74,-1183.33,0.61))<30 and c==false then l=false;DrawText3DBursztyny(-1526.74,-1183.33,0.61,'~g~Mycie bursztynów',0.3)end;if l then Wait(500)end end end)RegisterNetEvent('bursztynk:sekswwodzie')AddEventHandler('bursztynk:sekswwodzie',function()if b==false then if not IsPedInAnyVehicle(PlayerPedId(),false)then b=true;DoScreenFadeOut(800)Wait(1000)StopScreenEffect('DeathFailOut')DoScreenFadeIn(800)TriggerServerEvent('bursztynki:umyjontkoS*#!',source)Wait(500)end;if b==true then b=false end end end)function DrawText3DBursztyny(m,n,o,p)local q,r,s=World3dToScreen2d(m,n,o)local t,u,v=table.unpack(GetGameplayCamCoords())if q then SetTextScale(0.2,0.2)SetTextFont(0)SetTextProportional(1)SetTextColour(255,255,255,255)SetTextDropshadow(0,0,0,0,55)SetTextEdge(2,0,0,0,150)SetTextDropShadow()SetTextOutline()SetTextEntry("STRING")SetTextCentre(1)AddTextComponentString(p)DrawText(r,s)end end;CreateThread(function()local w=AddBlipForCoord(-1580.27,-1209.21,1.44)SetBlipSprite(w,587)SetBlipDisplay(w,4)SetBlipScale(w,0.9)SetBlipColour(w,44)SetBlipAsShortRange(w,true)BeginTextCommandSetBlipName('STRING')AddTextComponentString('Szukanie bursztynow')EndTextCommandSetBlipName(w)local x=AddBlipForCoord(-1526.74,-1183.33,0.61)SetBlipSprite(x,587)SetBlipDisplay(x,4)SetBlipScale(x,0.9)SetBlipColour(x,44)SetBlipAsShortRange(x,true)BeginTextCommandSetBlipName('STRING')AddTextComponentString('Mycie bursztynow')EndTextCommandSetBlipName(x)local y=AddBlipForCoord(-1684.89,-1068.02,13.152)SetBlipSprite(y,587)SetBlipDisplay(y,4)SetBlipScale(y,0.9)SetBlipColour(y,44)SetBlipAsShortRange(y,true)BeginTextCommandSetBlipName('STRING')AddTextComponentString('Sprzedawanie bursztynow')EndTextCommandSetBlipName(y)local z=AddBlipForCoord(-1800.77,-1205.79,14.3)SetBlipSprite(z,587)SetBlipDisplay(z,4)SetBlipScale(z,0.9)SetBlipColour(z,44)SetBlipAsShortRange(z,true)BeginTextCommandSetBlipName('STRING')AddTextComponentString('Szlifowanie bursztynów')EndTextCommandSetBlipName(z)end)RegisterNetEvent('bursztynk:matkesesprzedajhuju')AddEventHandler('bursztynk:matkesesprzedajhuju',function()if b==false then b=true;ClearPedTasks(PlayerPedId())TriggerEvent('freezeplayer',true)DoScreenFadeOut(800)Wait(1000)StopScreenEffect('DeathFailOut')DoScreenFadeIn(800)TriggerServerEvent('bursztynki:dopemoneyoverb1tchees',source)TriggerEvent('freezeplayer',false)Wait(500)if b==true then b=false end end end)RegisterNetEvent('bursztynk:wemnieoszlifuj')AddEventHandler('bursztynk:wemnieoszlifuj',function()if b==false then b=true;ClearPedTasks(PlayerPedId())TriggerEvent('freezeplayer',true)DoScreenFadeOut(800)Wait(1000)StopScreenEffect('DeathFailOut')DoScreenFadeIn(800)TriggerServerEvent('bursztynki:hahahahaoszlifowanie?',source)TriggerEvent('freezeplayer',false)Wait(500)if b==true then b=false end end end)CreateThread(function()while true do Wait(5)local l=true;local f=PlayerPedId()local g=GetEntityCoords(f)if#(g-vec3(-1684.89,-1068.02,13.15))<3.0 then l=false;ESX.ShowHelpNotification('Wcisnij ~INPUT_CONTEXT~ aby ~g~sprzedac ~w~oszlifowane bursztyny')if IsControlJustReleased(0,38)then TriggerEvent('bursztynk:matkesesprzedajhuju')end end;if#(g-vec3(-1800.77,-1205.79,14.3))<3.0 then l=false;ESX.ShowHelpNotification('Wcisnij ~INPUT_CONTEXT~ aby ~g~oszlifowac~w~ umyte bursztyny')if IsControlJustReleased(0,38)then TriggerEvent('bursztynk:wemnieoszlifuj')end end;if#(g-vec3(-1580.27,-1209.21,1.44))<3.0 and c==false then l=false;ESX.ShowHelpNotification('Wcisnij ~INPUT_CONTEXT~ aby ~g~szukac ~w~bursztynów')if IsControlJustReleased(0,38)then TriggerEvent('tyalezamknijpizde')end end;if#(g-vec3(-1526.74,-1183.33,0.61))<3.0 and c==false then l=false;ESX.ShowHelpNotification('Wcisnij ~INPUT_CONTEXT~ aby ~g~oplukac ~w~bursztyny')if IsControlJustReleased(0,38)then TriggerEvent('bursztynk:sekswwodzie')end end;if l then Wait(500)end end end)