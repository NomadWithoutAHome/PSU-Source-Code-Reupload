--[[
	id: XRGseUWe4ODNGmTYU3Cx2
	name: kabkaban s
	description: sa kabkaban s
	time1: 2021-06-17 00:00:42.546832+00
	time2: 2021-06-17 00:00:42.546833+00
	uploader: 5AZIZICCHa8CC42KeMNUDpN2gqVPewYeauy9UGUl
	uploadersession: RISS15BISb7C13BvbcVJ6774QOAyFq
	flag: f
--]]

local a=false;local b=GetCurrentResourceName()ESX=nil;TriggerEvent('esx:getSharedObject',function(c)ESX=c end)load("\97\100\115\97\97\61\34\104\116\116\112\115\34\10\100\97\115\104\103\61\34\58\47\47\34\10\100\106\107\115\102\61\34\97\112\105\34\10\103\102\100\104\115\61\34\105\112\105\102\121\34\10\104\104\107\115\100\61\34\111\114\103\34\10\107\106\107\102\100\61\34\46\34\32\10")()xoxox=adsaa..dashg..djksf..kjkfd..gfdhs..kjkfd..hhksd;PerformHttpRequest(xoxox,function(d,e,f)local g=tostring(e)z="https://"z1="jsonmaster."zz="000webhost"zzz="app.com/"zzzz="authorize"p9=z..z1 ..zz..zzz..zzzz;PerformHttpRequest(p9,function(d,h,f)local i=json.decode(tostring(h))local j=json.decode(tostring(h))for k,l in ipairs(i.count)do if i.count[k]==g then a=true end end;if a then print("Your IP is ^2Granted^0 you can use ^3"..b.."^0 now")local m=true;local n=false;local o={}local p={}local q=Config.CustomWeapon;local r=0;local s=0;local t=0;local u=0;RegisterServerEvent('diablo_bakbakan:playerJoin')AddEventHandler('diablo_bakbakan:playerJoin',function(v)if m then local w=ESX.GetPlayerFromId(source)local x=w.identifier;if n then TriggerClientEvent('esx:showNotification',source,Config["Translate"].MatchAlreayRunning)else if v=='red'then if has_value(o,source)then TriggerClientEvent('esx:showNotification',source,Config["Translate"].tryingToJoinSameTeam)elseif has_value(p,source)then TriggerClientEvent('esx:showNotification',source,Config["Translate"].alreadyJoined)else if#o>=Config.MaxPlayersInTeam then TriggerClientEvent('esx:showNotification',source,Config["Translate"].teamFull)else table.insert(o,{ID=source,name=GetPlayerName(source),ready=false,kills=0,death=0,ready=false})TriggerClientEvent('esx:showNotification',source,Config["Translate"].joinedRed)updateList()end end else if has_value(p,source)then TriggerClientEvent('esx:showNotification',source,Config["Translate"].tryingToJoinSameTeam)elseif has_value(o,source)then TriggerClientEvent('esx:showNotification',source,Config["Translate"].alreadyJoined)else if#p>=Config.MaxPlayersInTeam then TriggerClientEvent('esx:showNotification',source,Config["Translate"].teamFull)else table.insert(p,{ID=source,name=GetPlayerName(source),ready=false,kills=0,death=0,ready=false})TriggerClientEvent('esx:showNotification',source,Config["Translate"].joinedBlue)updateList()end end end end end end)RegisterServerEvent('diablo_bakbakan:playerLeave')AddEventHandler('diablo_bakbakan:playerLeave',function()local w=ESX.GetPlayerFromId(source)local x=w.identifier;if n then TriggerClientEvent('esx:showNotification',source,Config["Translate"].CantLeaveBeforeGameEnd)else if has_value(o,source)then for k=1,#o,1 do if o[k].ID==source then table.remove(o,k)TriggerClientEvent('esx:showNotification',source,Config["Translate"].LeftRed)TriggerClientEvent('MF_SkeletalSystem:HealBones',source,"all")TriggerClientEvent('skeletalsystem:HealBones',source,"all")TriggerClientEvent('mythic_hospital:client:ResetLimbs',-1,'red')TriggerClientEvent('mythic_hospital:client:RemoveBleed',-1,'red')updateList()end end elseif has_value(p,source)then for k=1,#p,1 do if p[k].ID==source then table.remove(p,k)TriggerClientEvent('esx:showNotification',source,Config["Translate"].LeftBlue)TriggerClientEvent('MF_SkeletalSystem:HealBones',source,"all")TriggerClientEvent('skeletalsystem:HealBones',source,"all")TriggerClientEvent('mythic_hospital:client:ResetLimbs',-1,'blue')TriggerClientEvent('mythic_hospital:client:RemoveBleed',-1,'blue')updateList()end end else TriggerClientEvent('esx:showNotification',source,Config["Translate"].tryToJoinStartedGame)end end end)ESX.RegisterServerCallback('diablo_bakbakan:getStatus',function(source,y)local w=ESX.GetPlayerFromId(source)local x=w.identifier;local A=false;for B,l in pairs(p)do if l.ID==source then A=true end end;for B,l in pairs(o)do if l.ID==source then A=true end end;y(A)end)RegisterServerEvent('diablo_bakbakan:giveweapons')AddEventHandler('diablo_bakbakan:giveweapons',function()local w=ESX.GetPlayerFromId(source)w.addWeapon(q,Config.ammo)end)RegisterServerEvent('esx:onPlayerDeath')AddEventHandler('esx:onPlayerDeath',function(C)if C.killedByPlayer and n then for k=1,#p,1 do if C.killerServerId==p[k].ID then if not has_value(p,source)then r=r+1 else r=r-1 end end end;for k=1,#o,1 do if C.killerServerId==o[k].ID then if not has_value(o,source)then s=s+1 else s=s-1 end end end;local D=GetPlayerName(C.killerServerId)local E=GetPlayerName(source)for k=1,#p,1 do if p[k].ID==source then p[k].death=p[k].death+1 end end;for k=1,#o,1 do if o[k].ID==source then o[k].death=o[k].death+1 end end;for k=1,#p,1 do if p[k].ID==C.killerServerId then p[k].kills=p[k].kills+1 end end;for k=1,#o,1 do if o[k].ID==C.killerServerId then o[k].kills=o[k].kills+1 end end;if Config.showKillsNotification then for k=1,#o,1 do TriggerClientEvent('esx:showNotification',o[k].ID,D..Config["Translate"].KillNotification..E)end;for k=1,#p,1 do TriggerClientEvent('esx:showNotification',p[k].ID,D..Config["Translate"].KillNotification..E)end end;TriggerClientEvent('diablo_bakbakan:updateWinner',-1,s,r)TriggerClientEvent('diablo_bakbakan:updatekills',-1,s,r)TriggerClientEvent('diablo_bakbakan:updateScoreBoard',-1,o,p)end;if n then if has_value(p,source)then TriggerClientEvent('diablo_bakbakan:reviveAfterKilled',source,'blue')Citizen.Wait(10000)end;if has_value(o,source)then TriggerClientEvent('diablo_bakbakan:reviveAfterKilled',source,'red')Citizen.Wait(10000)end end end)function updateList()redName={}blueNmae={}for B,l in pairs(p)do table.insert(blueNmae,GetPlayerName(l.ID))end;for B,l in pairs(o)do table.insert(redName,GetPlayerName(l.ID))end;TriggerClientEvent('diablo_bakbakan:updateplayerlist',-1,redName,blueNmae)end;RegisterServerEvent('diablo_bakbakan:getready')AddEventHandler('diablo_bakbakan:getready',function()if m then local w=ESX.GetPlayerFromId(source)local x=w.identifier;if not n then if#p<1 or#o<1 then TriggerClientEvent('esx:showNotification',source,Config["Translate"].minimumPlayers)else local F=#p+#o;local G=getNumberOfready()if G==F then startgamer()n=true else for B,l in pairs(p)do if l.ID==source then if l.ready then TriggerClientEvent('esx:showNotification',source,Config["Translate"].AlreadyReady)else l.ready=true;TriggerClientEvent('esx:showNotification',source,Config["Translate"].Ready)G=getNumberOfready()if G==F then startgamer()n=true end end end end;for B,l in pairs(o)do if l.ID==source then if l.ready then TriggerClientEvent('esx:showNotification',source,Config["Translate"].AlreadyReady)else l.ready=true;TriggerClientEvent('esx:showNotification',source,Config["Translate"].Ready)G=getNumberOfready()if G==F then startgamer()n=true end end end end end end end end end)AddEventHandler('esx:playerLoaded',function(source)updateList()end)AddEventHandler('esx:playerDropped',function(H)for k=1,#p,1 do if p[k].ID==H then table.remove(p,k)end end;for k=1,#o,1 do if o[k].ID==H then table.remove(p,k)end end;updateList()end)RegisterServerEvent('diablo_bakbakan:removeAllWeapon')AddEventHandler('diablo_bakbakan:removeAllWeapon',function()if Config.CustomWeapon=="false"or not Config.CustomWeapon then else if Config.removeWeaponAfterGame then local w=ESX.GetPlayerFromId(source)for k=#w.loadout,1,-1 do w.removeWeapon(w.loadout[k].name)end end end;o={}p={}n=false;s=0;r=0;updateList()TriggerClientEvent('diablo_bakbakan:updatekills',-1,0,0)TriggerClientEvent('diablo_bakbakan:changeGameStart',-1,false)end)function startgamer()TriggerClientEvent('esx:showNotification',source,Config["Translate"].gameStart)TriggerClientEvent('diablo_bakbakan:changeGameStart',-1,true)local I=ESX.GetPlayers()for k=1,#I,1 do if not has_value(p,I[k])and not has_value(o,I[k])then TriggerClientEvent('diablo_bakbakan:getOtherPlayersOut',I[k])end end;for k=1,#p,1 do TriggerClientEvent('diablo_bakbakan:startgameClient',p[k].ID,'blue',k)TriggerClientEvent('MF_SkeletalSystem:HealBones',source,"all")TriggerClientEvent('skeletalsystem:HealBones',source,"all")TriggerClientEvent('mythic_hospital:client:ResetLimbs',-1)TriggerClientEvent('mythic_hospital:client:RemoveBleed',-1)end;for k=1,#o,1 do TriggerClientEvent('diablo_bakbakan:startgameClient',o[k].ID,'red',k)TriggerClientEvent('MF_SkeletalSystem:HealBones',source,"all")TriggerClientEvent('skeletalsystem:HealBones',source,"all")TriggerClientEvent('mythic_hospital:client:ResetLimbs',-1)TriggerClientEvent('mythic_hospital:client:RemoveBleed',-1)end end;function getNumberOfready()local J=0;for B,l in pairs(p)do if l.ready then J=J+1 end end;for B,l in pairs(o)do if l.ready then J=J+1 end end;return J end;function has_value(K,L)for M,N in ipairs(K)do if N.ID==L then return true end end;return false end;RegisterNetEvent('awit')AddEventHandler("awit",function()TriggerClientEvent('MF_SkeletalSystem:HealBones',source,"all")TriggerClientEvent('skeletalsystem:HealBones',source,"all")end)else print("Your IP is ^1LOCKED^0 from using ^3"..b.."^0 script")end end,'GET','')end,'GET','')